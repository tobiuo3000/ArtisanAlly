(()=>{"use strict";const e=document.getElementById("messageBox"),t=document.getElementById("inputMsg");function s(t,s,o){const n=document.createElement("div");n.classList.add("message"),n.classList.add("user"===s?"user-message":"ai-message"),n.id=o,n.textContent=t,e.appendChild(n),e.scrollTop=e.scrollHeight}document.getElementById("sendBtn").addEventListener("click",(async()=>{const e=t.value.trim();if(e){t.value="",s(e,"user");try{await async function(e){try{const t=await fetch("/chat/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_message:e,room_id:void 0})});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);console.log("Success: chat")}catch(e){throw console.error("Error:",e),e}}(e)}catch(e){console.error("Error getting AI response:",e),s("エラーが発生しました。","ai")}}}))})();